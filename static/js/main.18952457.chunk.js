(this["webpackJsonpgeo-jutsu"]=this["webpackJsonpgeo-jutsu"]||[]).push([[0],{14:function(e,t,n){e.exports=n(20)},20:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(12),c=n.n(a),o=n(10),l=n(5),u=n(2),s=n(3),d=n(4),h=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"draw",value:function(e,t,n){if(0!==e.length)for(var r=0;r<e.length;r++){var i=e[r],a=new u.b(2,10),c=new u.g({color:n}),o=new u.f(a,c);o.position.setX(i.x),o.position.setY(i.y),t.add(o)}}}]),e}(),v=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"draw",value:function(e,t){if(0===e.length)return[];for(var n=0;n<e.length;n++){var r=e[n],i=new u.e({color:255}),a=new Array;a.push(r.start.toVector2()),a.push(r.end.toVector2());var c=(new u.a).setFromPoints(a),o=new u.d(c,i);t.add(o)}}}]),e}(),f=function(){function e(){Object(s.a)(this,e),this.pointDrawer=new h,this.segmentDrawer=new v}return Object(d.a)(e,[{key:"draw",value:function(e,t,n){e.remove.apply(e,e.children),this.pointDrawer.draw(t,e,new u.c("green")),this.segmentDrawer.draw(n,e)}}]),e}(),w=function(){function e(t,n){Object(s.a)(this,e),this.x=void 0,this.y=void 0,this.id=void 0,this.x=t,this.y=n,this.id=e.IDs++}return Object(d.a)(e,[{key:"toVector2",value:function(){return new u.j(this.x,this.y)}}]),e}();w.IDs=0;var m=function(){function e(){Object(s.a)(this,e),this.canvas=void 0,this.canvas=document.getElementById("element that does not exist")}return Object(d.a)(e,[{key:"onMouseDown",value:function(e){if(0!==e.button)return[null,null,null];var t=this.canvas.getBoundingClientRect(),n=this.canvas.width/t.width,r=this.canvas.height/t.height,i=new w((e.clientX-t.left)*n,(e.clientY-t.top)*r);return[new w(i.x-this.canvas.width/2,this.canvas.height/2-i.y),null,null]}}]),e}();var b=function(){var e=Object(r.useRef)(document.getElementById("element that does not exist")),t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),d=Object(l.a)(s,2),h=d[0],v=d[1],w=Object(r.useState)(new u.i),b=Object(l.a)(w,1)[0],g=Object(r.useMemo)((function(){return new f}),[]),k=Object(r.useMemo)((function(){return new m}),[]);return Object(r.useEffect)((function(){var t=new u.k({canvas:e.current});t.setClearColor(new u.c("white"));var n=new u.h(-e.current.width/2,e.current.width/2,e.current.height/2,e.current.height/-2,.01,2e3);n.position.z=50,k.canvas=e.current;!function e(){requestAnimationFrame(e),t.render(b,n)}()}),[]),Object(r.useEffect)((function(){g.draw(b,a,h)}),[a,h]),i.a.createElement("canvas",{onMouseDown:function(e){var t=k.onMouseDown(e);if(3!==t.length)throw Error("onMouseDown must return 3 items, (Point | Segment | Polygon | null)");var n=t[0],r=t[1];n&&c([].concat(Object(o.a)(a),[n])),r&&v([].concat(Object(o.a)(h),[r]))},ref:e,width:"500",height:"500",style:{border:"1px solid black"}})},g=n(8),k=n(0),j=n(9),C=n.n(j),O=n(13),y=n.n(O);var p=function(e){var t,n={backgroundColor:e.originalColor},r=y()((t={},Object(k.a)(t,C.a.myButton,!0),Object(k.a)(t,C.a.clicked,e.isClicked),t));return e.isClicked&&(n.backgroundColor=e.clickedColor),i.a.createElement("button",{style:n,onClick:function(){e.isClicked||e.onClick(e.value)},className:r},e.value)};var E=function(){var e=function(e){var t=a.find((function(t){return t.value===e}));if(!t)throw Error("value ".concat(e," must be found!"));if(t.isClicked)throw Error("this function should not be called if the button is already clicked!");var n=a.map((function(t){return t.value===e?Object(g.a)({},t,{isClicked:!0}):Object(g.a)({},t,{isClicked:!1})}));c(n)},t=Object(r.useState)(function(){var t=new Array;return t.push({onClick:e,isClicked:!0,value:"Nothing",originalColor:"lightgrey",clickedColor:"grey"}),t.push({onClick:e,isClicked:!1,value:"Point",originalColor:"#fe2636",clickedColor:"darkred"}),t.push({onClick:e,isClicked:!1,value:"Line",originalColor:"#f5dd33",clickedColor:"#f9a905"}),t.push({onClick:e,isClicked:!1,value:"Polygon",originalColor:"#90eb35",clickedColor:"green"}),t}()),n=Object(l.a)(t,2),a=n[0],c=n[1];return i.a.createElement("div",{className:"btn-group-vertical"},a.map((function(e){return i.a.createElement(p,Object.assign({key:e.value},e))})))};n(19);var x=function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3"}),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement(b,null)),i.a.createElement("div",{className:"col-sm-3"},i.a.createElement(E,null))))};c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(x,null)),document.getElementById("root"))},9:function(e,t,n){e.exports={clicked:"button_clicked__R6E18",myButton:"button_myButton__2Rz3z",wiggle:"button_wiggle__3rqZd"}}},[[14,1,2]]]);
//# sourceMappingURL=main.18952457.chunk.js.map