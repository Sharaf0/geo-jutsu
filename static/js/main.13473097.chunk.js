(this["webpackJsonpgeo-jutsu"]=this["webpackJsonpgeo-jutsu"]||[]).push([[0],{10:function(t,e,n){t.exports={clicked:"button_clicked__R6E18",myButton:"button_myButton__2Rz3z",wiggle:"button_wiggle__3rqZd"}},14:function(t,e,n){t.exports=n(20)},20:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(12),a=n.n(i),u=n(5),s=n(4),c=n(6),l=n(2),h=n(3),f=function(){function t(){Object(l.a)(this,t)}return Object(h.a)(t,[{key:"draw",value:function(t,e,n){if(0!==t.length)for(var r=0;r<t.length;r++){var o=t[r],i=new s.b(2,10),a=new s.g({color:n}),u=new s.f(i,a);u.position.setX(o.x),u.position.setY(o.y),e.add(u)}}}]),t}(),d=function(){function t(){Object(l.a)(this,t)}return Object(h.a)(t,[{key:"draw",value:function(t,e,n){if(0!==t.length)for(var r=0;r<t.length;r++){var o=t[r],i=new s.e({color:n}),a=[];a.push(o.start.toVector2()),a.push(o.end.toVector2());var u=(new s.a).setFromPoints(a),c=new s.d(u,i);e.add(c)}}}]),t}(),g=function(){function t(){Object(l.a)(this,t)}return Object(h.a)(t,null,[{key:"getRandomColor",value:function(){return Math.floor(16777215*Math.random())}},{key:"getNewRandomColorHex",value:function(){for(var e=t.getRandomColor();e in t.allColors;)e=t.getRandomColor();return t.allColors[e]=e,e}},{key:"getNewPointsGroupColor",value:function(){var e=t.getNewRandomColorHex(),n=new s.c;return n.setHex(e),t.pointsGroupColors.push(n),n}},{key:"getNewSegmentsGroupColor",value:function(){var e=t.getNewRandomColorHex(),n=new s.c;return n.setHex(e),t.segmentsGroupColors.push(n),n}},{key:"getRandomPointsGroupColor",value:function(e){return t.pointsGroupColors.length>e?t.pointsGroupColors[e]:t.getNewPointsGroupColor()}},{key:"getRandomSegmentsGroupColor",value:function(e){return t.segmentsGroupColors.length>e?t.segmentsGroupColors[e]:t.getNewSegmentsGroupColor()}},{key:"getDefaultPointColor",value:function(){var e=new s.c("red");return t.allColors[e.getHex()]=e.getHex(),e}},{key:"getDefaultSegmentColor",value:function(){var e=new s.c("blue");return t.allColors[e.getHex()]=e.getHex(),e}}]),t}();g.pointsGroupColors=new Array,g.segmentsGroupColors=new Array,g.allColors={};var v=function(){function t(){Object(l.a)(this,t),this.pointDrawer=void 0,this.segmentDrawer=void 0,this.pointDrawer=new f,this.segmentDrawer=new d}return Object(h.a)(t,[{key:"draw",value:function(t,e){if(t&&(t.pointsGroups.length||t.segmentsGroups.length)){for(var n=0;n<t.pointsGroups.length;n++){var r=t.pointsGroups[n];this.pointDrawer.draw(r,e,g.getRandomPointsGroupColor(n))}for(var o=0;o<t.segmentsGroups.length;o++){var i=t.segmentsGroups[o];this.segmentDrawer.draw(i,e,g.getRandomSegmentsGroupColor(o))}}}}]),t}(),b=function(){function t(){Object(l.a)(this,t),this.pointDrawer=new f,this.segmentDrawer=new d,this.stepDrawer=new v}return Object(h.a)(t,[{key:"draw",value:function(t,e,n,r,o,i){t.remove.apply(t,t.children),i?this.stepDrawer.draw(i,t):(r&&(e=[].concat(Object(c.a)(e),[r])),o&&(n=[].concat(Object(c.a)(n),[o])),this.pointDrawer.draw(e,t,g.getDefaultPointColor()),this.segmentDrawer.draw(n,t,g.getDefaultSegmentColor()))}}]),t}(),m=function(t,e){return Math.abs(t-e)<1e-5},p=function(){function t(e,n){Object(l.a)(this,t),this.x=void 0,this.y=void 0,this.id=void 0,this.x=e,this.y=n,this.id=t.IDs++}return Object(h.a)(t,[{key:"less",value:function(t){return m(this.x,t.x)?this.y<t.y:this.x<t.x}},{key:"equals",value:function(t){return m(this.x,t.x)&&m(this.y,t.y)}},{key:"toVector2",value:function(){return new s.j(this.x,this.y)}}]),t}();p.IDs=0;var w=function(){function t(){Object(l.a)(this,t),this.canvas=void 0,this.canvas=document.getElementById("element that does not exist")}return Object(h.a)(t,[{key:"getPoint",value:function(t,e){var n=this.canvas.getBoundingClientRect(),r=this.canvas.width/n.width,o=this.canvas.height/n.height,i=new p((t-n.left)*r,(e-n.top)*o);return new p(i.x-this.canvas.width/2,this.canvas.height/2-i.y)}},{key:"onMouseDown",value:function(t,e){return this.canvas&&0===e.button&&"Point"===t?[this.getPoint(e.clientX,e.clientY),null,null]:[null,null,null]}},{key:"onMouseMove",value:function(t,e){return this.canvas?"Nothing"===t?[null,null,null]:"Point"===t?[this.getPoint(e.clientX,e.clientY),null,null]:[null,null,null]:[null,null,null]}}]),t}(),C={drawingMode:"Point",setCurrentDrawingMode:function(){}},j=Object(r.createContext)(C),O=o.a.createContext({currentStep:null,currentStepNumber:-1,stepsCount:0,next:function(){},prev:function(){},run:function(t,e,n){},start:function(){},stop:function(){},isRunning:!1}),k={inputPoints:[],inputSegments:[],addPoint:function(t){},addPoints:function(t){},addSegment:function(t){},addSegments:function(t){}},y=Object(r.createContext)(k);var E=function(){var t=Object(r.useRef)(document.getElementById("element that does not exist")),e=Object(r.useState)(new s.i),n=Object(u.a)(e,1)[0],i=Object(r.useMemo)((function(){return new b}),[]),a=Object(r.useMemo)((function(){return new w}),[]),c=Object(r.useContext)(j).drawingMode,l=Object(r.useContext)(O).currentStep,h=Object(r.useContext)(y),f=h.addPoint,d=h.addPoints,g=h.addSegment,v=h.inputPoints,m=h.inputSegments,C=Object(r.useState)(null),k=Object(u.a)(C,2),E=k[0],G=k[1],x=Object(r.useState)(null),S=Object(u.a)(x,2),P=S[0],D=S[1],M=Object(r.useState)(!1),N=Object(u.a)(M,2),R=N[0],q=N[1];Object(r.useEffect)((function(){q(null!==l)}),[l]),Object(r.useEffect)((function(){var e=new s.k({canvas:t.current});e.setClearColor(new s.c("white"));var r=new s.h(-t.current.width/2,t.current.width/2,t.current.height/2,t.current.height/-2,.01,2e3);r.position.z=50,a.canvas=t.current;!function t(){requestAnimationFrame(t),e.render(n,r)}()}),[]),Object(r.useEffect)((function(){i.draw(n,v,m,E,P,l)}),[v,m,E,P,i,n,l]);var I=function(e){var n=function(t,e,n){for(var r=[],o=0;o<t;o++){var i=n*Math.random()-n/2,a=e*Math.random()-e/2;r.push(new p(i,a))}return r}(e,t.current.height,t.current.width);d(n)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("canvas",{onMouseDown:function(t){if(!R){var e=a.onMouseDown(c,t);if(3!==e.length)throw Error("onMouseDown must return 3 items, [Point, Segment, Polygon]");var n=e[0],r=e[1];n&&f(n),r&&g(r)}},onMouseMove:function(t){if(!R){var e=a.onMouseMove(c,t);if(3!==e.length)throw Error("onMouseMove must return 3 items, [Point, Segment, Polygon]");var n=e[0],r=e[1];n&&G(n),r&&D(r)}},onMouseLeave:function(){G(null),D(null)},ref:t,width:"500",height:"500",style:{border:"1px solid black"}}),o.a.createElement("div",null,"Generate Random Points:",o.a.createElement("button",{onClick:function(){return I(10)}},"10"),o.a.createElement("button",{onClick:function(){return I(100)}},"100"),o.a.createElement("button",{onClick:function(){return I(1e3)}},"1000")))},G=n(7),x=n(1),S=n(10),P=n.n(S),D=n(13),M=n.n(D);var N=function(t){var e,n={backgroundColor:t.originalColor},r=M()((e={},Object(x.a)(e,P.a.myButton,!0),Object(x.a)(e,P.a.clicked,t.isClicked),e));return t.isClicked&&(n.backgroundColor=t.clickedColor),o.a.createElement("button",{style:n,onClick:function(){t.isClicked||t.onClick(t.value)},className:r},t.value)},R=function(t){var e=Object(r.useState)([]),n=Object(u.a)(e,2),i=n[0],a=n[1];Object(r.useEffect)((function(){a(t.buttons)}),[t.buttons]);var s=Object(r.useCallback)((function(t){var e=i.find((function(e){return e.value===t}));if(!e)throw Error("value ".concat(t," must be found!"));if(e.isClicked)throw Error("this function should not be called if the button is already clicked!");var n=i.map((function(e){return e.value===t?Object(G.a)({},e,{isClicked:!0}):Object(G.a)({},e,{isClicked:!1})}));a(n)}),[i]);return o.a.createElement("div",null,i.map((function(t){var e=Object(G.a)({},t,{onClick:function(e){s(e),t.onClick(e)}});return o.a.createElement(N,Object.assign({key:e.value},e))})))};var q=function(t){var e=o.a.useContext(j),n=e.drawingMode,i=e.setCurrentDrawingMode,a=Object(r.useCallback)((function(t){i(t)}),[i]),u=t.buttons.map((function(t){return t.value===n?Object(G.a)({},t,{onClick:a,isClicked:!0}):Object(G.a)({},t,{onClick:a})}));return o.a.createElement("div",{className:"btn-group-vertical"},o.a.createElement(R,{buttons:u}),o.a.createElement("span",null,n))},I=(n(19),function(){var t=Object(r.useContext)(O),e=t.stepsCount,n=t.currentStepNumber,i=t.next,a=t.prev,u=t.start,s=t.isRunning,c=t.stop,l=s?o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:c},"Stop"):o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:u},"Start");return 0===e?o.a.createElement(o.a.Fragment,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("span",null,n," / ",e-1),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:a,disabled:0===n},"<"),l,o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:i,disabled:n===e-1},">")),o.a.createElement("div",{className:"progress",style:{marginTop:20}},o.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"".concat(100*n/(e-1),"%")}})))}),A=function(t){var e=Object(r.useContext)(O).run,n=Object(r.useContext)(y),i=n.inputPoints,a=n.inputSegments,u=function(n){var r=t.algorithms.find((function(t){return t.Name()===n}));if(!r)throw Error("Algorithm ".concat(n," must be found"));e(r,i,a)},s=t.algorithms.map((function(t){return{value:t.Name(),clickedColor:"darkblue",originalColor:"lightblue",isClicked:!1,onClick:u}}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Algorithms"),o.a.createElement(R,{buttons:s}))},H=function(){var t=Object(r.useState)(C.drawingMode),e=Object(u.a)(t,2),n=e[0],o=e[1];return{drawingMode:n,setCurrentDrawingMode:Object(r.useCallback)((function(t){o(t)}),[])}},_=function(){function t(){Object(l.a)(this,t),this.pointsGroups=void 0,this.segmentsGroups=void 0,this.pointsGroups=new Array,this.segmentsGroups=new Array}return Object(h.a)(t,[{key:"equals",value:function(t){if(this.pointsGroups.length!==t.pointsGroups.length||this.segmentsGroups.length!==t.segmentsGroups.length)return!1;for(var e=0;e<this.pointsGroups.length;e++){if(this.pointsGroups[e].length!==t.pointsGroups[e].length)return!1;for(var n=0;n<this.pointsGroups[e].length;n++){if(!this.pointsGroups[e][n].equals(t.pointsGroups[e][n]))return!1}}for(var r=0;r<this.segmentsGroups.length;r++){if(this.segmentsGroups[r].length!==t.segmentsGroups[r].length)return!1;for(var o=0;o<this.segmentsGroups[r].length;o++){if(!this.segmentsGroups[r][o].equals(t.segmentsGroups[r][o]))return!1}}return!0}}]),t}(),B=function(){var t=Object(r.useState)(-1),e=Object(u.a)(t,2),n=e[0],o=e[1],i=Object(r.useState)(null),a=Object(u.a)(i,2),s=a[0],l=a[1],h=Object(r.useState)([]),f=Object(u.a)(h,2),d=f[0],g=f[1],v=Object(r.useState)(!1),b=Object(u.a)(v,2),m=b[0],p=b[1],w=Object(r.useCallback)((function(){n!==d.length-1&&(l(d[n+1]),o(n+1))}),[d,n]);Object(r.useEffect)((function(){m&&setTimeout((function(){w()}),100)}),[m,n]);return{currentStep:s,currentStepNumber:n,stepsCount:d.length,next:w,prev:function(){0!==n&&(l(d[n-1]),o(n-1))},run:function(t,e,n){var r=new _;r.pointsGroups=[e],r.segmentsGroups=[n];var i=t.Run(e,n),a=[r].concat(Object(c.a)(i));!function(t){for(var e=1;e<t.length;e++){t[e].equals(t[e-1])&&(t.splice(e,1),e--)}}(a),g(a),l(a[0]),o(0)},stop:function(){p(!1)},isRunning:m,start:function(){p(!0)}}},F=function(){function t(){Object(l.a)(this,t)}return Object(h.a)(t,[{key:"Run",value:function(t,e){return t.map((function(t){var e=new _;return e.pointsGroups.push([t]),e}))}},{key:"Name",value:function(){return"Simple"}}]),t}(),L=function(){function t(e,n){Object(l.a)(this,t),this.start=void 0,this.end=void 0,this.id=void 0,this.start=e,this.end=n,this.id=p.IDs++}return Object(h.a)(t,[{key:"inverse",value:function(){return new t(this.end,this.start)}},{key:"cross",value:function(t){return(this.end.x-this.start.x)*(t.y-this.start.y)-(this.end.y-this.start.y)*(t.x-this.start.x)}},{key:"onLeft",value:function(t){return this.cross(t)<0}},{key:"collinear",value:function(t){return 0===this.cross(t)}},{key:"equals",value:function(t){return this.start.equals(t.start)&&this.end.equals(t.end)}}]),t}();L.IDs=0;var z=function(){function t(e,n,r){Object(l.a)(this,t),this.a=void 0,this.b=void 0,this.c=void 0,this.ab=void 0,this.bc=void 0,this.ca=void 0,this.id=void 0,this.a=e,this.b=n,this.c=r,this.ab=new L(e,n),this.bc=new L(n,r),this.ca=new L(r,e),this.id=t.IDs++}return Object(h.a)(t,[{key:"hasPointInside",value:function(t){return this.ab.onLeft(t)&&this.bc.onLeft(t)&&this.ca.onLeft(t)}},{key:"hasPointOn",value:function(t){return this.ab.collinear(t)||this.bc.collinear(t)||this.ca.collinear(t)}}]),t}();z.IDs=0;var V=function(){function t(){Object(l.a)(this,t)}return Object(h.a)(t,[{key:"unique",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Set(arguments).size===arguments.length}},{key:"withoutIndices",value:function(t,e){for(var n=[],r=0;r<t.length;r++)-1===e.indexOf(r)&&n.push(t[r]);return n}},{key:"Run",value:function(t,e){var n,r=this,o=t.sort((function(t,e){return t.less(e)?-1:t.equals(e)?0:1})),i=(n=o,Array.from(new Set(n)));if(i.length<3&&2===i.length){var a=new _;return a.segmentsGroups.push([new L(new p(1,1),new p(1,1))]),[a]}for(var u=[],s=[],c=[],l=function(t){if(c.find((function(e){return e===t})))return"continue";for(var e=function(e){if(c.find((function(t){return t===e})))return"continue";for(var n=function(n){if(c.find((function(t){return t===n})))return"continue";for(var o=new z(i[t],i[e],i[n]),a=function(a){if(!r.unique(t,e,n,a))return"continue";if(c.find((function(t){return t===a})))return"continue";var l=i[a];if(!l.equals(o.a)&&!l.equals(o.b)&&!l.equals(o.c)&&(o.hasPointInside(l)||o.hasPointOn(l))){var h=new _;h.segmentsGroups=[[o.ab,o.bc,o.ca]],h.pointsGroups=[r.withoutIndices(i,c),[l]],s.push(i[a]),c.push(a);var f=new _;f.segmentsGroups=[[o.ab,o.bc,o.ca]],f.pointsGroups=[r.withoutIndices(i,c)],u.push(h),u.push(f)}},l=0;l<i.length;l++)a(l)},o=0;o<i.length;o++)n(o)},n=0;n<i.length;n++)e(n)},h=0;h<i.length;h++)l(h);var f=new _;return f.pointsGroups=[this.withoutIndices(i,c)],[].concat(u,[f])}},{key:"Name",value:function(){return"Extreme Points"}}]),t}(),X=function(){function t(){Object(l.a)(this,t),this.algorithms=void 0,this.algorithms=[new F,new V]}return Object(h.a)(t,[{key:"getAll",value:function(){return this.algorithms}}]),t}(),Y=function(){var t=Object(r.useState)(k.inputPoints),e=Object(u.a)(t,2),n=e[0],o=e[1],i=Object(r.useState)(k.inputSegments),a=Object(u.a)(i,2),s=a[0],l=a[1];return{addPoint:Object(r.useCallback)((function(t){o([].concat(Object(c.a)(n),[t]))}),[n]),addPoints:Object(r.useCallback)((function(t){o([].concat(Object(c.a)(n),Object(c.a)(t)))}),[n]),addSegment:Object(r.useCallback)((function(t){l([].concat(Object(c.a)(s),[t]))}),[s]),addSegments:Object(r.useCallback)((function(t){l([].concat(Object(c.a)(s),Object(c.a)(t)))}),[s]),inputPoints:n,inputSegments:s}},J=[{isClicked:!1,value:"Nothing",originalColor:"lightgrey",clickedColor:"grey"},{isClicked:!1,value:"Point",originalColor:"#fe2636",clickedColor:"darkred"},{isClicked:!1,value:"Line",originalColor:"#f5dd33",clickedColor:"#f9a905"},{isClicked:!1,value:"Polygon",originalColor:"#90eb35",clickedColor:"green"}];var T=function(){var t=new X;return o.a.createElement(y.Provider,{value:Y()},o.a.createElement(O.Provider,{value:B()},o.a.createElement(j.Provider,{value:H()},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-3"},o.a.createElement(A,{algorithms:t.getAll()})),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(E,null),o.a.createElement(I,null)),o.a.createElement("div",{className:"col-sm-3"},o.a.createElement(q,{buttons:J})))))))};a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(T,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.13473097.chunk.js.map