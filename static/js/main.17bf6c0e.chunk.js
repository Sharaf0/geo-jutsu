(this["webpackJsonpgeo-jutsu"]=this["webpackJsonpgeo-jutsu"]||[]).push([[0],{10:function(e,t,n){e.exports={clicked:"button_clicked__R6E18",myButton:"button_myButton__2Rz3z",wiggle:"button_wiggle__3rqZd"}},14:function(e,t,n){e.exports=n(20)},20:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(12),i=n.n(a),l=n(7),u=n(5),c=n(3),s=n(2),m=n(4),g=function(){function e(){Object(s.a)(this,e)}return Object(m.a)(e,[{key:"draw",value:function(e,t,n){if(0!==e.length)for(var o=0;o<e.length;o++){var r=e[o],a=new c.b(2,10),i=new c.g({color:n}),l=new c.f(a,i);l.position.setX(r.x),l.position.setY(r.y),t.add(l)}}}]),e}(),d=function(){function e(){Object(s.a)(this,e)}return Object(m.a)(e,[{key:"draw",value:function(e,t,n){if(0!==e.length)for(var o=0;o<e.length;o++){var r=e[o],a=new c.e({color:n}),i=[];i.push(r.start.toVector2()),i.push(r.end.toVector2());var l=(new c.a).setFromPoints(i),u=new c.d(l,a);t.add(u)}}}]),e}(),h=function(){function e(){Object(s.a)(this,e)}return Object(m.a)(e,null,[{key:"getRandomColor",value:function(){return Math.floor(16777215*Math.random())}},{key:"getNewRandomColorHex",value:function(){for(var t=e.getRandomColor();t in e.allColors;)t=e.getRandomColor();return e.allColors[t]=t,t}},{key:"getNewPointsGroupColor",value:function(){var t=e.getNewRandomColorHex(),n=new c.c;return n.setHex(t),e.pointsGroupColors.push(n),n}},{key:"getNewSegmentsGroupColor",value:function(){var t=e.getNewRandomColorHex(),n=new c.c;return n.setHex(t),e.segmentsGroupColors.push(n),n}},{key:"getRandomPointsGroupColor",value:function(t){return e.pointsGroupColors.length>=t?e.pointsGroupColors[t]:e.getNewPointsGroupColor()}},{key:"getRandomSegmentsGroupColor",value:function(t){return e.segmentsGroupColors.length>=t?e.segmentsGroupColors[t]:e.getNewSegmentsGroupColor()}},{key:"getDefaultPointColor",value:function(){var t=new c.c("red");return e.allColors[t.getHex()]=t.getHex(),t}},{key:"getDefaultSegmentColor",value:function(){var t=new c.c("blue");return e.allColors[t.getHex()]=t.getHex(),t}}]),e}();h.pointsGroupColors=new Array,h.segmentsGroupColors=new Array,h.allColors={};var f=function(){function e(){Object(s.a)(this,e),this.pointDrawer=void 0,this.segmentDrawer=void 0,this.pointDrawer=new g,this.segmentDrawer=new d}return Object(m.a)(e,[{key:"draw",value:function(e,t){if(e&&e.pointsGroups.length&&e.segmentsGroups.length){for(var n=0;n<e.pointsGroups.length;n++){var o=e.pointsGroups[n];this.pointDrawer.draw(o,t,h.getRandomPointsGroupColor(n))}for(var r=0;r<e.segmentsGroups.length;r++){var a=e.segmentsGroups[r];this.segmentDrawer.draw(a,t,h.getRandomSegmentsGroupColor(r))}}}}]),e}(),v=function(){function e(){Object(s.a)(this,e),this.pointDrawer=new g,this.segmentDrawer=new d,this.stepDrawer=new f}return Object(m.a)(e,[{key:"draw",value:function(e,t,n,o,r,a){o&&(t=[].concat(Object(l.a)(t),[o])),r&&(n=[].concat(Object(l.a)(n),[r])),e.remove.apply(e,e.children),this.pointDrawer.draw(t,e,h.getDefaultPointColor()),this.segmentDrawer.draw(n,e,h.getDefaultSegmentColor()),a&&this.stepDrawer.draw(a,e)}}]),e}(),b=function(){function e(t,n){Object(s.a)(this,e),this.x=void 0,this.y=void 0,this.id=void 0,this.x=t,this.y=n,this.id=e.IDs++}return Object(m.a)(e,[{key:"toVector2",value:function(){return new c.j(this.x,this.y)}}]),e}();b.IDs=0;var p=function(){function e(){Object(s.a)(this,e),this.canvas=void 0,this.canvas=document.getElementById("element that does not exist")}return Object(m.a)(e,[{key:"getPoint",value:function(e,t){var n=this.canvas.getBoundingClientRect(),o=this.canvas.width/n.width,r=this.canvas.height/n.height,a=new b((e-n.left)*o,(t-n.top)*r);return new b(a.x-this.canvas.width/2,this.canvas.height/2-a.y)}},{key:"onMouseDown",value:function(e,t){return 0!==t.button?[null,null,null]:"Point"===e?[this.getPoint(t.clientX,t.clientY),null,null]:[null,null,null]}},{key:"onMouseMove",value:function(e,t){return"Nothing"===e?[null,null,null]:"Point"===e?[this.getPoint(t.clientX,t.clientY),null,null]:[null,null,null]}}]),e}(),w={drawingMode:"Nothing",setCurrentDrawingMode:function(){}},C=r.a.createContext(w);var k=function(e){var t=Object(o.useRef)(document.getElementById("element that does not exist")),n=Object(o.useState)([]),a=Object(u.a)(n,2),i=a[0],s=a[1],m=Object(o.useState)([]),g=Object(u.a)(m,2),d=g[0],h=g[1],f=Object(o.useState)(new c.i),b=Object(u.a)(f,1)[0],w=Object(o.useMemo)((function(){return new v}),[]),k=Object(o.useMemo)((function(){return new p}),[]),y=r.a.useContext(C).drawingMode,j=Object(o.useState)(null),O=Object(u.a)(j,2),E=O[0],G=O[1],N=Object(o.useState)(null),M=Object(u.a)(N,2),D=M[0],x=M[1],S=Object(o.useState)(!!e.currentStep),P=Object(u.a)(S,1)[0];return Object(o.useEffect)((function(){var e=new c.k({canvas:t.current});e.setClearColor(new c.c("white"));var n=new c.h(-t.current.width/2,t.current.width/2,t.current.height/2,t.current.height/-2,.01,2e3);n.position.z=50,k.canvas=t.current;!function t(){requestAnimationFrame(t),e.render(b,n)}()}),[]),Object(o.useEffect)((function(){w.draw(b,i,d,E,D,e.currentStep)}),[i,d,E,D,w,b,e.currentStep]),r.a.createElement("canvas",{onMouseDown:function(e){if(!P){var t=k.onMouseDown(y,e);if(3!==t.length)throw Error("onMouseDown must return 3 items, [Point, Segment, Polygon]");var n=t[0],o=t[1];n&&s([].concat(Object(l.a)(i),[n])),o&&h([].concat(Object(l.a)(d),[o]))}},onMouseMove:function(e){if(!P){var t=k.onMouseMove(y,e);if(3!==t.length)throw Error("onMouseMove must return 3 items, [Point, Segment, Polygon]");var n=t[0],o=t[1];n&&G(n),o&&x(o)}},onMouseLeave:function(){G(null),x(null)},ref:t,width:"500",height:"500",style:{border:"1px solid black"}})},y=n(6),j=n(1),O=n(10),E=n.n(O),G=n(13),N=n.n(G);var M=function(e){var t,n={backgroundColor:e.originalColor},o=N()((t={},Object(j.a)(t,E.a.myButton,!0),Object(j.a)(t,E.a.clicked,e.isClicked),t));return e.isClicked&&(n.backgroundColor=e.clickedColor),r.a.createElement("button",{style:n,onClick:function(){e.isClicked||e.onClick(e.value)},className:o},e.value)},D=function(e){var t=Object(o.useState)([]),n=Object(u.a)(t,2),a=n[0],i=n[1];Object(o.useEffect)((function(){i(e.buttons)}),[e.buttons]);var l=Object(o.useCallback)((function(e){var t=a.find((function(t){return t.value===e}));if(!t)throw Error("value ".concat(e," must be found!"));if(t.isClicked)throw Error("this function should not be called if the button is already clicked!");var n=a.map((function(t){return t.value===e?Object(y.a)({},t,{isClicked:!0}):Object(y.a)({},t,{isClicked:!1})}));i(n)}),[a]);return r.a.createElement("div",null,a.map((function(e){var t=Object(y.a)({},e,{onClick:function(t){l(t),e.onClick(t)}});return r.a.createElement(M,Object.assign({key:t.value},t))})))};var x=function(e){var t=r.a.useContext(C),n=t.drawingMode,a=t.setCurrentDrawingMode,i=Object(o.useCallback)((function(e){a(e)}),[a]),l=e.buttons.map((function(e){return e.value===n?Object(y.a)({},e,{onClick:i,isClicked:!0}):Object(y.a)({},e,{onClick:i})}));return r.a.createElement("div",{className:"btn-group-vertical"},r.a.createElement(D,{buttons:l}),r.a.createElement("span",null,n))},S=(n(19),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"<<"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"<"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Start"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},">"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},">>")),r.a.createElement("div",{className:"progress",style:{marginTop:20}},r.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"75%"}})))}),P=function(e){var t=function(t){var n=e.algorithms.find((function(e){return e.Name()===t}));if(!n)throw Error("Algorithm ".concat(t," must be found"));n.Run([],[])},n=e.algorithms.map((function(e){return{value:e.Name(),clickedColor:"darkblue",originalColor:"lightblue",isClicked:!1,onClick:t}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Algorithms"),r.a.createElement(D,{buttons:n}))},R=function e(){Object(s.a)(this,e),this.pointsGroups=void 0,this.segmentsGroups=void 0,this.pointsGroups=new Array,this.segmentsGroups=new Array},A=function(){function e(){Object(s.a)(this,e)}return Object(m.a)(e,[{key:"Run",value:function(e,t){var n=new R;return n.pointsGroups.push(e),console.log("I am a simple algorithm"),[n]}},{key:"Name",value:function(){return"Simple"}}]),e}(),H=function(){function e(){Object(s.a)(this,e),this.algorithms=void 0,this.algorithms=[new A]}return Object(m.a)(e,[{key:"getAll",value:function(){return this.algorithms}}]),e}(),_=[{isClicked:!1,value:"Nothing",originalColor:"lightgrey",clickedColor:"grey"},{isClicked:!1,value:"Point",originalColor:"#fe2636",clickedColor:"darkred"},{isClicked:!1,value:"Line",originalColor:"#f5dd33",clickedColor:"#f9a905"},{isClicked:!1,value:"Polygon",originalColor:"#90eb35",clickedColor:"green"}];var B=function(){var e=function(){var e=r.a.useState(w.drawingMode),t=Object(u.a)(e,2),n=t[0],o=t[1];return{drawingMode:n,setCurrentDrawingMode:r.a.useCallback((function(e){o(e)}),[])}}(),t=new H;return r.a.createElement(C.Provider,{value:e},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(P,{algorithms:t.getAll()})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(k,{currentStep:null}),r.a.createElement(S,null)),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(x,{buttons:_})))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.17bf6c0e.chunk.js.map